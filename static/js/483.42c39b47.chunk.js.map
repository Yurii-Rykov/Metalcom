{"version":3,"file":"static/js/483.42c39b47.chunk.js","mappings":"+NACA,GAAgB,UAAY,+BAA+B,MAAQ,2BAA2B,KAAO,0BAA0B,KAAO,0BAA0B,KAAO,2B,SCyEvK,EAlEoB,WAChB,IAAQA,GAAcC,EAAAA,EAAAA,MAAdD,UACR,GAAuBE,EAAAA,EAAAA,MAAhBC,GAAP,eACA,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA8BF,EAAAA,EAAAA,YAA9B,eAAOG,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAaR,EAAaS,IAAI,YAGpCC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,6GAEUC,EAAAA,EAAAA,IAAA,6CAAgDJ,IAF1D,OAELK,EAFK,OAGXV,EAAWU,EAAOC,MAHP,gDAKXC,QAAQC,IAAR,MALW,yDAAH,qDAkBXd,GAASS,IAEdN,EAAWH,EAAQe,MAAK,qBAAGC,KAAgBrB,QAC5C,CAACW,EAAYX,EAAWK,IAQ3B,OACI,iBAAKiB,UAAWC,EAAAA,UAAhB,WACI,kBAAOD,UAAWC,EAAAA,MAAlB,UACI,eAAID,UAAWC,EAAAA,KAAf,SACKlB,EAAQmB,KAAI,cAAGC,KAAH,IAASJ,EAAT,EAASA,GAAT,OACT,eAAaC,UAAWC,EAAAA,KAAxB,UACI,gBACID,UAAWC,EAAAA,KACXG,IAAI,sCACJC,IAAI,GACJC,QAAS,kBAdf,SAAAP,GAClBZ,EAAS,YAAD,OAAaY,EAAb,oBAA2BV,GAAc,CAAEkB,SAAS,IAarBC,CAAcT,OAL5BA,WAWrB,iBAAKC,UAAWC,EAAAA,cAAhB,WACI,4CAAahB,QAAb,IAAaA,OAAb,EAAaA,EAASkB,SACtB,iBAAKH,UAAWC,EAAAA,KAAhB,WACI,gBAAKD,UAAWC,EAAAA,KAAQG,IAAI,sCAAsCC,IAAI,MACtE,gCAAIpB,QAAJ,IAAIA,OAAJ,EAAIA,EAASkB,KAAb","sources":["webpack://metalcom/./src/pages/ProductCard/ProductCard.module.css?58d1","pages/ProductCard/ProductCard.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ProductCard_container__hZ+ht\",\"aside\":\"ProductCard_aside__cWrh1\",\"list\":\"ProductCard_list__iDfEQ\",\"card\":\"ProductCard_card__2vPPq\",\"item\":\"ProductCard_item__mYUcL\"};","import { useState, useEffect } from 'react';\nimport { useParams, useSearchParams, useNavigate } from 'react-router-dom';\n// import { Link } from 'react-router-dom';\n// import path from 'path';\n// import data from '../../db/catalog.json';\nimport axios from 'axios';\nimport s from './ProductCard.module.css';\n\nconst ProductCard = () => {\n    const { productId } = useParams();\n    const [searchParams] = useSearchParams();\n    const [catalog, setCatalog] = useState([]);\n    const [product, setProduct] = useState();\n    const navigate = useNavigate();\n    const catalogIdx = searchParams.get('catalog');\n    // const catalog = data[Number(catalogIdx) - 1];\n\n    useEffect(() => {\n        const getCatalog = async () => {\n            try {\n                const result = await axios.get(`http://localhost:4000/api/catalogs/${catalogIdx}`);\n                setCatalog(result.data);\n            } catch (error) {\n                console.log(error);\n            }\n        };\n\n        // const getProduct = async () => {\n        //     try {\n        //         const result = await axios.get(`http://localhost:3001/api/catalogs/${catalogIdx}/${productId}`);\n        //         console.log('result: ', result);\n        //         setProduct(result.data);\n        //     } catch (error) {\n        //         console.log(error);\n        //     }\n        // };\n        if (!catalog) getCatalog();\n        //  getProduct();\n        setProduct(catalog.find(({ id }) => id === productId));\n    }, [catalogIdx, productId, catalog]);\n\n    // const currentProduct = catalog.find(({ id }) => id === productId);\n\n    const chooseProduct = id => {\n        navigate(`/product/${id}?catalog=${catalogIdx}`, { replace: true });\n    };\n\n    return (\n        <div className={s.container}>\n            <aside className={s.aside}>\n                <ul className={s.list}>\n                    {catalog.map(({ name, id }) => (\n                        <li key={id} className={s.item}>\n                            <img\n                                className={s.card}\n                                src=\"https://via.placeholder.com/200x150\"\n                                alt=\"\"\n                                onClick={() => chooseProduct(id)}\n                            />\n                        </li>\n                    ))}\n                </ul>\n            </aside>\n            <div className={s.cardContainer}>\n                <h2>Product {product?.name}</h2>\n                <div className={s.card}>\n                    <img className={s.card} src=\"https://via.placeholder.com/600x450\" alt=\"\" />\n                    <p>{product?.name} однозначно классный продукт, Вам полюбому нужен. ИНФА = 100%</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductCard;\n"],"names":["productId","useParams","useSearchParams","searchParams","useState","catalog","setCatalog","product","setProduct","navigate","useNavigate","catalogIdx","get","useEffect","getCatalog","axios","result","data","console","log","find","id","className","s","map","name","src","alt","onClick","replace","chooseProduct"],"sourceRoot":""}